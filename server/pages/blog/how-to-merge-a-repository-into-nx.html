<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><title>How to merge a git repository into Nx</title><meta name="robots" content="follow, index"/><meta name="description" content="A guide on how to merge any existing app or library into a Nx monorepo."/><meta property="og:url" content="https://dalelarroder.com/blog/how-to-merge-a-repository-into-nx"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Make with ❤️ By Dev-scott "/><meta property="og:description" content="A guide on how to merge any existing app or library into a Nx monorepo."/><meta property="og:title" content="How to merge a git repository into Nx"/><meta property="og:image" content="https://dalelarroder.com/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://twitter.com/dalelarroder"/><meta name="twitter:title" content="How to merge a git repository into Nx"/><meta name="twitter:description" content="A guide on how to merge any existing app or library into a Nx monorepo."/><meta name="twitter:image" content="https://dalelarroder.com/static/images/twitter-card.png"/><meta property="article:published_time" content="2022-05-18T00:00:00.000Z"/><link rel="canonical" href="https://dalelarroder.com/blog/how-to-merge-a-repository-into-nx"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://dalelarroder.com/blog/how-to-merge-a-repository-into-nx"
  },
  "headline": "How to merge a git repository into Nx",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://dalelarroder.com/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2022-05-18T00:00:00.000Z",
  "dateModified": "2022-05-18T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "Sado Scott"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sado Scott",
    "logo": {
      "@type": "ImageObject",
      "url": "https://dalelarroder.com/static/images/logo.png"
    }
  },
  "description": "A guide on how to merge any existing app or library into a Nx monorepo."
}</script><meta name="next-head-count" content="19"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/34914eb8d9a0cc81.css" as="style"/><link rel="stylesheet" href="/_next/static/css/34914eb8d9a0cc81.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-bb4e9abb034e932c.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-ee0cf4b7f81d7c24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-abe750725c9335e9.js" defer=""></script><script src="/_next/static/chunks/1bfc9850-f4af2532c81c9a51.js" defer=""></script><script src="/_next/static/chunks/d0c16330-facd763b85b22f73.js" defer=""></script><script src="/_next/static/chunks/0c428ae2-2492c190f8aff126.js" defer=""></script><script src="/_next/static/chunks/d7eeaac4-7b3f8beadad8729d.js" defer=""></script><script src="/_next/static/chunks/d64684d8-e3be492e08e98ef7.js" defer=""></script><script src="/_next/static/chunks/0ae893cf-afc02a0cd79c19cb.js" defer=""></script><script src="/_next/static/chunks/276-fa9240ab6ef99b32.js" defer=""></script><script src="/_next/static/chunks/954-2a5ad612e607064e.js" defer=""></script><script src="/_next/static/chunks/675-8a7bcb32c3fc768b.js" defer=""></script><script src="/_next/static/chunks/789-1b6fe1cae9905140.js" defer=""></script><script src="/_next/static/chunks/613-ff3c42c8b3b529fa.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-cae4e2d1f4191949.js" defer=""></script><script src="/_next/static/thtyuFiDl1j7_OflreNhe/_buildManifest.js" defer=""></script><script src="/_next/static/thtyuFiDl1j7_OflreNhe/_ssgManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-black dark:text-white"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}else{c.add('dark')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(e){}}()</script><!--$!--><template data-dgst="DYNAMIC_SERVER_USAGE"></template><!--/$--><!--$!--><template data-dgst="DYNAMIC_SERVER_USAGE"></template><!--/$--><!--$!--><template data-dgst="DYNAMIC_SERVER_USAGE"></template><!--/$--><div class="mx-auto max-w-3xl px-4 sm:px-9 xl:max-w-5xl xl:px-0"><header class="z-40 bg-transparent py-5 md:py-10"><div class="mx-auto flex max-w-5xl items-center justify-between"><div><a class="flex items-center justify-between" aria-label="Home" href="/"><div class="horizontal-underline text-3xl font-extrabold sm:block">Dev.Scott</div></a></div><div class="flex items-center space-x-3 text-base leading-5"><div class="hidden space-x-5 sm:flex"><a class="horizontal-underline text-base horizontal-underline-active" aria-label="Blog" href="/blog"><span class="font-bold tracking-wide text-gray-900 dark:text-gray-100">Blog</span></a><a class="horizontal-underline text-base" aria-label="About" href="/about"><span class="font-bold tracking-wide text-gray-900 dark:text-gray-100">About</span></a><a class="horizontal-underline text-base" aria-label="Uses" href="/uses"><span class="font-bold tracking-wide text-gray-900 dark:text-gray-100">Uses</span></a></div><div class="flex items-center"><button id="theme-btn" aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path></svg></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 right-0 z-20 h-full w-full transform bg-white opacity-95 duration-300 ease-in-out dark:bg-black translate-x-full"><header class="flex justify-end py-5 px-4"><button type="button" aria-label="toggle modal" class="h-8 w-8 rounded"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></header><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="horizontal-underline font-bold tracking-widest text-gray-900 backdrop:text-2xl dark:text-gray-100" href="/">Home</a></div><div class="px-12 py-4"><a class="horizontal-underline font-bold tracking-widest text-gray-900 backdrop:text-2xl dark:text-gray-100 horizontal-underline-active" aria-label="Blog" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="horizontal-underline font-bold tracking-widest text-gray-900 backdrop:text-2xl dark:text-gray-100" aria-label="About" href="/about">About</a></div><div class="px-12 py-4"><a class="horizontal-underline font-bold tracking-widest text-gray-900 backdrop:text-2xl dark:text-gray-100" aria-label="Uses" href="/uses">Uses</a></div></nav></div></div></div></div></div></header><div class="flex h-screen flex-col justify-between"><main class="mb-auto" style="opacity:1;transform:none"><article><header class="space-y-1 rounded-lg bg-primary-500 py-4 px-2 text-center sm:py-6 md:py-10"><h1 class="text-2xl font-extrabold leading-9 tracking-tight text-white sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">How to merge a git repository into Nx</h1><dl><dt class="sr-only">Published on</dt><dd class="flex flex-col justify-center text-base font-medium leading-6 text-white sm:flex-row sm:space-x-2"><div class="flex items-center justify-center space-x-2"><span>Dale Larroder</span><span>-</span><time dateTime="2022-05-18T00:00:00.000Z">May 18, 2022</time></div><span class="hidden sm:block">-</span><span>3 min read</span></dd></dl></header><div class="divide-y divide-gray-200 font-medium dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-4 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-8 pb-8 dark:prose-dark"><h2 id="overview"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#overview" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Overview</h2>
<ul><li class="false"><a href="#what-is-nx" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">What is Nx?</a></li><li class="false"><a href="#prerequisites" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Prerequisites</a></li><li class="false"><a href="#creating-an-nx-workspace" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Creating an Nx Workspace</a></li><li class="false"><a href="#nx-workspace-folder-structure" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Nx Workspace Folder structure</a></li><li class="false"><a href="#step-1-clone-source-repository" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Step 1: Clone source repository</a></li><li class="false"><a href="#step-2-move-all-files-into-the-right-sub-directory" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Step 2: Move all files into the right sub directory.</a></li><li class="false"><a href="#step-3-add-remote-in-your-monorepo-to-packagec" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Step 3: Add remote in your monorepo to packageC</a></li><li class="false"><a href="#step-4-merge-packagec-into-monorepo" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Step 4: Merge packageC into monorepo</a></li><li class="false"><a href="#step-5-clean-up" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Step 5: Clean up</a></li><li class="false"><a href="#other-tips" class="not-prose border-b border-primary-400 no-underline dark:border-primary-500">Other tips</a></li></ul>
<h2 id="what-is-nx"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#what-is-nx" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>What is Nx?</h2>
<p><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://nx.dev/" class="css-1tzfalu">Nx</a> is a framework that allows you to architect,
test, and build your project at any scale with the most popular modern
Front-end frameworks like <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://reactjs.org/" class="css-1tzfalu">React</a> and <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://angular.io/" class="css-1tzfalu">Angular</a>,
and Back-end ones like <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://nestjs.com/" class="css-1tzfalu">NestJs</a> or <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://expressjs.com/" class="css-1tzfalu">Express</a>.
To make this possible, Nx comes shipped with a large toolset that simplifies your Monorepo
management. If you are unfamiliar with <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://semaphoreci.com/blog/what-is-monorepo#:~:text=A%20monorepo%20is%20a%20version,Monorepos%20can%20reach%20colossal%20sizes." class="css-1tzfalu">Monorepo</a>,
it is basically a version-controlled code repository that holds many projects and libraries.</p>
<h2 id="prerequisites"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#prerequisites" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Prerequisites</h2>
<ul>
<li>Git</li>
<li>Node</li>
<li>Nx CLI</li>
</ul>
<h2 id="creating-an-nx-workspace"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#creating-an-nx-workspace" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Creating an Nx Workspace</h2>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">npx create-nx-workspace@latest
</span></code></pre></div>
<p><img src="/static/blog/nx/create-nx-workspace.webp" alt="image"/></p>
<h2 id="nx-workspace-folder-structure"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#nx-workspace-folder-structure" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Nx Workspace Folder structure</h2>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">nx-workspace/
</span><span class="code-line">├── apps/
</span><span class="code-line">├── libs/
</span><span class="code-line">├── tools/
</span><span class="code-line">├── workspace.json
</span><span class="code-line">├── nx.json
</span><span class="code-line">├── package.json
</span><span class="code-line">└── tsconfig.base.json
</span></code></pre></div>
<p>You can read more about Nx&#x27;s folder structure <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://nx.dev/getting-started/nx-setup#folder-structure" class="css-1tzfalu">here</a></p>
<h2 id="step-1-clone-source-repository"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#step-1-clone-source-repository" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Step 1: Clone source repository</h2>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">git clone &lt;repo-url&gt; packageC
</span></code></pre></div>
<p>It is recommended to create a new copy of the repository you are about to clone into the nx monorepo, as there
will be some git changes that are easier to delete than to start over.</p>
<h2 id="step-2-move-all-files-into-the-right-sub-directory"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#step-2-move-all-files-into-the-right-sub-directory" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Step 2: Move all files into the right sub directory.</h2>
<p>If you are trying to move an app, the sub directory should be <code>apps/packageC</code></p>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">export TARGET_DIR=&quot;apps/packageC&quot;
</span></code></pre></div>
<p>If you are trying to move a library, the sub directory should be <code>libs/packageC</code></p>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">export TARGET_DIR=&quot;libs/packageC&quot;
</span></code></pre></div>
<p>The next commands will actually move the files and will rewrite all of the git
history into the the TARGET_DIR you have specified above.</p>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">cd packageC
</span></code></pre></div>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">git filter-branch --prune-empty --tree-filter &#x27;
</span><span class="code-line">  mkdir -p &quot;$TARGET_DIR&quot;
</span><span class="code-line">  git ls-tree --name-only $GIT_COMMIT | xargs -I files mv files &quot;$TARGET_DIR&quot;
</span><span class="code-line">&#x27;
</span></code></pre></div>
<h2 id="step-3-add-remote-in-your-monorepo-to-packagec"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#step-3-add-remote-in-your-monorepo-to-packagec" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Step 3: Add remote in your monorepo to packageC</h2>
<p>This will print the working directory of the current package you are trying to clone.</p>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">cd packageC &amp;&amp; pwd
</span></code></pre></div>
<p>The next step is adding the newly acquired remote to your nx workspace for you to be able to fetch.</p>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">cd nx-workspace
</span></code></pre></div>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">git remote add packageC &lt;packageC-pwd&gt;
</span></code></pre></div>
<h2 id="step-4-merge-packagec-into-monorepo"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#step-4-merge-packagec-into-monorepo" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Step 4: Merge packageC into monorepo</h2>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">git fetch packageC --no-tags
</span></code></pre></div>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">git merge packageC/master --allow-unrelated-histories
</span></code></pre></div>
<h2 id="step-5-clean-up"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#step-5-clean-up" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Step 5: Clean up</h2>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">git remote remove packageC
</span></code></pre></div>
<p>After successfully merging, its time to cleanup duplicate config files, <code>package.json</code>, <code>eslintrc.js</code> and etc.</p>
<h2 id="other-tips"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#other-tips" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Other tips</h2>
<h4 id="environment-variables"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#environment-variables" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Environment variables</h4>
<p>If you are using env variables in your application, don&#x27;t forget to change the naming of your env variables
to have a prefix of NX_, you can read more about Nx environment variables <style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a target="_blank" rel="noopener noreferrer" href="https://nx.dev/guides/environment-variables" class="css-1tzfalu">here</a></p>
<p>For Example when you merged in a react app to nx:</p>
<div class="relative"><pre><code class="language-diff code-highlight"><span class="code-line deleted"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">REACT_APP_AUTH_HOST=http://localhost:3002
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">NX_AUTH_HOST=http://localhost:3002
</span></span></span></code></pre></div>
<h4 id="fixing-absolute-imports-from-your-create-react-app"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#fixing-absolute-imports-from-your-create-react-app" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Fixing absolute imports from your Create React App</h4>
<p>If you are importing a CRA, One of the errors you&#x27;ll be getting is <code>@nrwl/nx/enforce-module-boundaries</code> error.</p>
<p>To fix this, you will need to update all your absolute paths to the path you specified in <code>tsconfig.base.json</code></p>
<div class="remark-code-title">tsconfig.base.json</div>
<div class="relative"><pre><code class="code-highlight"><span class="code-line">    &quot;paths&quot;: {
</span><span class="code-line">      &quot;@design-system&quot;: [&quot;libs/design/src/index.ts&quot;],
</span><span class="code-line">      },
</span></code></pre></div>
<p>and fix all the files that use absolute paths</p>
<div class="relative"><pre><code class="language-diff code-highlight"><span class="code-line deleted"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">import Modal from &#x27;src/components/Modal/Modal&#x27;;
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import Modal from &#x27;@design-system/src/components/Modal/Modal&#x27;;
</span></span></span></code></pre></div>
<h4 id="fixing-error-global-is-not-defined"><style data-emotion="css 1tzfalu">.css-1tzfalu{cursor:pointer;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);background-repeat:no-repeat;text-decoration-line:none;-webkit-background-position:0 100%;background-position:0 100%;-webkit-background-size:100% 0.2em;background-size:100% 0.2em;}.css-1tzfalu:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));-webkit-background-size:100% 100%;background-size:100% 100%;}.css-1tzfalu:focus{-webkit-background-size:100% 100%;background-size:100% 100%;}@media (prefers-reduced-motion: no-preference){.css-1tzfalu{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:300ms;}}@media (prefers-color-scheme: dark){.css-1tzfalu{--tw-gradient-from:#DE1D8D;--tw-gradient-to:#DE1D8D;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to);}}</style><a href="#fixing-error-global-is-not-defined" aria-hidden="true" tabindex="-1" class="css-1tzfalu"><span class="icon icon-link"></span></a>Fixing Error: global is not defined</h4>
<p>If you have merged an existing create react app into nx, you might have encountered this error: <code>global is not defined</code></p>
<p>The simple fix for this is to override Nx&#x27;s webpack config and add the following:</p>
<div class="remark-code-title">webpack.config.js</div>
<div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> nrwlConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@nrwl/react/plugins/webpack.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">config<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token function">nrwlConfig</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token spread operator">...</span>config<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre></div>
<p>and don&#x27;t forget to call it in your apps <code>project.json</code> file</p>
<div class="remark-code-title">project.json</div>
<div class="relative"><pre><code class="language-diff code-highlight"><span class="code-line deleted"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&quot;webpackConfig&quot;: &quot;@nrwl/react/plugins/webpack&quot;
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">&quot;webpackConfig&quot;: &quot;./apps/field-app/webpack.config.js&quot;
</span></span></span></code></pre></div><div class="grid grid-rows-2 gap-3 pt-4 sm:grid-cols-2 sm:pt-6"><div><div class="flex flex-col items-center space-y-1 sm:items-start"><span class="italic">Previous Blog</span><a class="underline-magical max-w-sm truncate sm:max-w-[250px] xl:max-w-md" href="/blog/javascript-promises-async-await">← <!-- -->JavaScript Promise and Async/Await</a></div></div><div><div class="flex flex-col items-center space-y-1 sm:items-end"><span class="italic">Next Blog</span><a class="underline-magical max-w-sm truncate sm:max-w-[250px] xl:max-w-md" href="/blog/why-does-react-need-keys">Why does React need keys?<!-- --> →</a></div></div></div><div id="comment"><!--$!--><template data-dgst="DYNAMIC_SERVER_USAGE"></template><!--/$--></div></div></div></div></article></main><footer class="mt-4 border-t-2"><div class="mb-0 flex flex-col justify-start space-y-1.5 space-x-0 py-10 text-gray-500 dark:text-gray-400"><div class="flex flex-col items-center space-y-2 text-sm sm:flex-row sm:justify-between sm:text-base"><ul class="flex space-x-2"><li>© 2023</li><li> • </li><li><a href="https://twitter.com/dev__scott">Make with ❤️ By Dev-scott </a></li></ul><ul class="flex cursor-pointer items-center space-x-5"><li><a href="https://www.linkedin.com/in/dale-larroder/" target="_blank" rel="noreferrer" aria-label="linkedin"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="sm:text-lg" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"></path></svg></a></li><li><a href="https://github.com/dev-scott" target="_blank" rel="noreferrer" aria-label="github"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="sm:text-lg" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li><a href="https://twitter.com/dalelarroder" target="_blank" rel="noreferrer" aria-label="twitter"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="sm:text-lg" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li></ul></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"How to merge a git repository into Nx","date":"2022-05-18T00:00:00.000Z","tags":["Git","Monorepo","Nx","Workspaces"],"draft":false,"summary":"A guide on how to merge any existing app or library into a Nx monorepo.","author":"Dale Larroder","body":{"raw":"\n## Overview\n\n\u003cTOCInline toc={props.toc} exclude=\"Overview\" toHeading={2} /\u003e\n\n## What is Nx?\n\n[Nx](https://nx.dev/) is a framework that allows you to architect,\ntest, and build your project at any scale with the most popular modern\nFront-end frameworks like [React](https://reactjs.org/) and [Angular](https://angular.io/),\nand Back-end ones like [NestJs](https://nestjs.com/) or [Express](https://expressjs.com/).\nTo make this possible, Nx comes shipped with a large toolset that simplifies your Monorepo\nmanagement. If you are unfamiliar with [Monorepo](https://semaphoreci.com/blog/what-is-monorepo#:~:text=A%20monorepo%20is%20a%20version,Monorepos%20can%20reach%20colossal%20sizes.),\nit is basically a version-controlled code repository that holds many projects and libraries.\n\n## Prerequisites\n\n- Git\n- Node\n- Nx CLI\n\n## Creating an Nx Workspace\n\n```\nnpx create-nx-workspace@latest\n```\n\n![image](/static/blog/nx/create-nx-workspace.webp)\n\n## Nx Workspace Folder structure\n\n```\nnx-workspace/\n├── apps/\n├── libs/\n├── tools/\n├── workspace.json\n├── nx.json\n├── package.json\n└── tsconfig.base.json\n```\n\nYou can read more about Nx's folder structure [here](https://nx.dev/getting-started/nx-setup#folder-structure)\n\n## Step 1: Clone source repository\n\n```\ngit clone \u003crepo-url\u003e packageC\n```\n\nIt is recommended to create a new copy of the repository you are about to clone into the nx monorepo, as there\nwill be some git changes that are easier to delete than to start over.\n\n## Step 2: Move all files into the right sub directory.\n\nIf you are trying to move an app, the sub directory should be `apps/packageC`\n\n```\nexport TARGET_DIR=\"apps/packageC\"\n```\n\nIf you are trying to move a library, the sub directory should be `libs/packageC`\n\n```\nexport TARGET_DIR=\"libs/packageC\"\n```\n\nThe next commands will actually move the files and will rewrite all of the git\nhistory into the the TARGET_DIR you have specified above.\n\n```\ncd packageC\n```\n\n```\ngit filter-branch --prune-empty --tree-filter '\n  mkdir -p \"$TARGET_DIR\"\n  git ls-tree --name-only $GIT_COMMIT | xargs -I files mv files \"$TARGET_DIR\"\n'\n```\n\n## Step 3: Add remote in your monorepo to packageC\n\nThis will print the working directory of the current package you are trying to clone.\n\n```\ncd packageC \u0026\u0026 pwd\n```\n\nThe next step is adding the newly acquired remote to your nx workspace for you to be able to fetch.\n\n```\ncd nx-workspace\n```\n\n```\ngit remote add packageC \u003cpackageC-pwd\u003e\n```\n\n## Step 4: Merge packageC into monorepo\n\n```\ngit fetch packageC --no-tags\n```\n\n```\ngit merge packageC/master --allow-unrelated-histories\n```\n\n## Step 5: Clean up\n\n```\ngit remote remove packageC\n```\n\nAfter successfully merging, its time to cleanup duplicate config files, `package.json`, `eslintrc.js` and etc.\n\n## Other tips\n\n#### Environment variables\n\nIf you are using env variables in your application, don't forget to change the naming of your env variables\nto have a prefix of NX\\_, you can read more about Nx environment variables [here](https://nx.dev/guides/environment-variables)\n\nFor Example when you merged in a react app to nx:\n\n```diff\n-REACT_APP_AUTH_HOST=http://localhost:3002\n+NX_AUTH_HOST=http://localhost:3002\n```\n\n#### Fixing absolute imports from your Create React App\n\nIf you are importing a CRA, One of the errors you'll be getting is `@nrwl/nx/enforce-module-boundaries` error.\n\nTo fix this, you will need to update all your absolute paths to the path you specified in `tsconfig.base.json`\n\n```:tsconfig.base.json\n    \"paths\": {\n      \"@design-system\": [\"libs/design/src/index.ts\"],\n      },\n```\n\nand fix all the files that use absolute paths\n\n```diff\n-import Modal from 'src/components/Modal/Modal';\n+import Modal from '@design-system/src/components/Modal/Modal';\n```\n\n#### Fixing Error: global is not defined\n\nIf you have merged an existing create react app into nx, you might have encountered this error: `global is not defined`\n\nThe simple fix for this is to override Nx's webpack config and add the following:\n\n```js:webpack.config.js\nconst nrwlConfig = require('@nrwl/react/plugins/webpack.js');\n\nmodule.exports = (config, context) =\u003e {\n  nrwlConfig(config);\n\n  return {\n    ...config,\n    node: {\n      global: true,\n    },\n  };\n};\n```\n\nand don't forget to call it in your apps `project.json` file\n\n```diff:project.json\n-\"webpackConfig\": \"@nrwl/react/plugins/webpack\"\n+\"webpackConfig\": \"./apps/field-app/webpack.config.js\"\n```\n","code":"var Component=(()=\u003e{var h=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var N=(a,e)=\u003e()=\u003e(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=\u003e{for(var i in e)c(a,i,{get:e[i],enumerable:!0})},l=(a,e,i,r)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!u.call(a,s)\u0026\u0026s!==i\u0026\u0026c(a,s,{get:()=\u003ee[s],enumerable:!(r=p(e,s))||r.enumerable});return a};var k=(a,e,i)=\u003e(i=a!=null?h(g(a)):{},l(e||!a||!a.__esModule?c(i,\"default\",{value:a,enumerable:!0}):i,a)),x=a=\u003el(c({},\"__esModule\",{value:!0}),a);var t=N((C,o)=\u003e{o.exports=_jsx_runtime});var I={};f(I,{default:()=\u003ew,frontmatter:()=\u003eb});var n=k(t()),b={title:\"How to merge a git repository into Nx\",date:\"2022-05-18\",tags:[\"Git\",\"Monorepo\",\"Nx\",\"Workspaces\"],draft:!1,author:\"Dale Larroder\",summary:\"A guide on how to merge any existing app or library into a Nx monorepo.\"};function d(a){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",ul:\"ul\",li:\"li\",pre:\"pre\",code:\"code\",img:\"img\",h4:\"h4\",div:\"div\"},a.components),{TOCInline:i}=e;return i||v(\"TOCInline\",!0,\"12:1-12:63\"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"overview\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#overview\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Overview\"]}),`\n`,(0,n.jsx)(i,{toc:a.toc,exclude:\"Overview\",toHeading:2}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-is-nx\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-is-nx\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What is Nx?\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://nx.dev/\",children:\"Nx\"}),` is a framework that allows you to architect,\ntest, and build your project at any scale with the most popular modern\nFront-end frameworks like `,(0,n.jsx)(e.a,{href:\"https://reactjs.org/\",children:\"React\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://angular.io/\",children:\"Angular\"}),`,\nand Back-end ones like `,(0,n.jsx)(e.a,{href:\"https://nestjs.com/\",children:\"NestJs\"}),\" or \",(0,n.jsx)(e.a,{href:\"https://expressjs.com/\",children:\"Express\"}),`.\nTo make this possible, Nx comes shipped with a large toolset that simplifies your Monorepo\nmanagement. If you are unfamiliar with `,(0,n.jsx)(e.a,{href:\"https://semaphoreci.com/blog/what-is-monorepo#:~:text=A%20monorepo%20is%20a%20version,Monorepos%20can%20reach%20colossal%20sizes.\",children:\"Monorepo\"}),`,\nit is basically a version-controlled code repository that holds many projects and libraries.`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"prerequisites\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#prerequisites\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Prerequisites\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Git\"}),`\n`,(0,n.jsx)(e.li,{children:\"Node\"}),`\n`,(0,n.jsx)(e.li,{children:\"Nx CLI\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"creating-an-nx-workspace\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-an-nx-workspace\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Creating an Nx Workspace\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`npx create-nx-workspace@latest\n`})})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/blog/nx/create-nx-workspace.webp\",alt:\"image\"})}),`\n`,(0,n.jsxs)(e.h2,{id:\"nx-workspace-folder-structure\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#nx-workspace-folder-structure\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Nx Workspace Folder structure\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`nx-workspace/\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 apps/\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 libs/\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 tools/\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 workspace.json\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 nx.json\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 package.json\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 tsconfig.base.json\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can read more about Nx's folder structure \",(0,n.jsx)(e.a,{href:\"https://nx.dev/getting-started/nx-setup#folder-structure\",children:\"here\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"step-1-clone-source-repository\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-1-clone-source-repository\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 1: Clone source repository\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`git clone \u003crepo-url\u003e packageC\n`})})}),`\n`,(0,n.jsx)(e.p,{children:`It is recommended to create a new copy of the repository you are about to clone into the nx monorepo, as there\nwill be some git changes that are easier to delete than to start over.`}),`\n`,(0,n.jsxs)(e.h2,{id:\"step-2-move-all-files-into-the-right-sub-directory\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-2-move-all-files-into-the-right-sub-directory\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 2: Move all files into the right sub directory.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you are trying to move an app, the sub directory should be \",(0,n.jsx)(e.code,{children:\"apps/packageC\"})]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`export TARGET_DIR=\"apps/packageC\"\n`})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you are trying to move a library, the sub directory should be \",(0,n.jsx)(e.code,{children:\"libs/packageC\"})]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`export TARGET_DIR=\"libs/packageC\"\n`})})}),`\n`,(0,n.jsx)(e.p,{children:`The next commands will actually move the files and will rewrite all of the git\nhistory into the the TARGET_DIR you have specified above.`}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`cd packageC\n`})})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`git filter-branch --prune-empty --tree-filter '\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`  mkdir -p \"$TARGET_DIR\"\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`  git ls-tree --name-only $GIT_COMMIT | xargs -I files mv files \"$TARGET_DIR\"\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`'\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"step-3-add-remote-in-your-monorepo-to-packagec\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-3-add-remote-in-your-monorepo-to-packagec\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 3: Add remote in your monorepo to packageC\"]}),`\n`,(0,n.jsx)(e.p,{children:\"This will print the working directory of the current package you are trying to clone.\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`cd packageC \u0026\u0026 pwd\n`})})}),`\n`,(0,n.jsx)(e.p,{children:\"The next step is adding the newly acquired remote to your nx workspace for you to be able to fetch.\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`cd nx-workspace\n`})})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`git remote add packageC \u003cpackageC-pwd\u003e\n`})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"step-4-merge-packagec-into-monorepo\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-4-merge-packagec-into-monorepo\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 4: Merge packageC into monorepo\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`git fetch packageC --no-tags\n`})})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`git merge packageC/master --allow-unrelated-histories\n`})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"step-5-clean-up\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#step-5-clean-up\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Step 5: Clean up\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`git remote remove packageC\n`})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"After successfully merging, its time to cleanup duplicate config files, \",(0,n.jsx)(e.code,{children:\"package.json\"}),\", \",(0,n.jsx)(e.code,{children:\"eslintrc.js\"}),\" and etc.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"other-tips\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#other-tips\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Other tips\"]}),`\n`,(0,n.jsxs)(e.h4,{id:\"environment-variables\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#environment-variables\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Environment variables\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`If you are using env variables in your application, don't forget to change the naming of your env variables\nto have a prefix of NX_, you can read more about Nx environment variables `,(0,n.jsx)(e.a,{href:\"https://nx.dev/guides/environment-variables\",children:\"here\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"For Example when you merged in a react app to nx:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line deleted\",children:(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`REACT_APP_AUTH_HOST=http://localhost:3002\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`NX_AUTH_HOST=http://localhost:3002\n`})]})]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"fixing-absolute-imports-from-your-create-react-app\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#fixing-absolute-imports-from-your-create-react-app\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fixing absolute imports from your Create React App\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you are importing a CRA, One of the errors you'll be getting is \",(0,n.jsx)(e.code,{children:\"@nrwl/nx/enforce-module-boundaries\"}),\" error.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"To fix this, you will need to update all your absolute paths to the path you specified in \",(0,n.jsx)(e.code,{children:\"tsconfig.base.json\"})]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-title\",children:\"tsconfig.base.json\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`    \"paths\": {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`      \"@design-system\": [\"libs/design/src/index.ts\"],\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`      },\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:\"and fix all the files that use absolute paths\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line deleted\",children:(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`import Modal from 'src/components/Modal/Modal';\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`import Modal from '@design-system/src/components/Modal/Modal';\n`})]})]})]})}),`\n`,(0,n.jsxs)(e.h4,{id:\"fixing-error-global-is-not-defined\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#fixing-error-global-is-not-defined\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Fixing Error: global is not defined\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you have merged an existing create react app into nx, you might have encountered this error: \",(0,n.jsx)(e.code,{children:\"global is not defined\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"The simple fix for this is to override Nx's webpack config and add the following:\"}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-title\",children:\"webpack.config.js\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" nrwlConfig \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'@nrwl/react/plugins/webpack.js'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method-variable function-variable method function property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"config\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" context\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"nrwlConfig\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"config\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"config\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"node\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"global\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"and don't forget to call it in your apps \",(0,n.jsx)(e.code,{children:\"project.json\"}),\" file\"]}),`\n`,(0,n.jsx)(e.div,{className:\"remark-code-title\",children:\"project.json\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line deleted\",children:(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`\"webpackConfig\": \"@nrwl/react/plugins/webpack\"\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`\"webpackConfig\": \"./apps/field-app/webpack.config.js\"\n`})]})]})]})})]})}function y(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(d,a)})):d(a)}var w=y;function v(a,e,i){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(i?\"\\nIt\\u2019s referenced in your code at `\"+i+\"` in `D:\\\\@Code\\\\Web\\\\FrontEnd\\\\Next-js\\\\next_dalelarroder_blog\\\\_mdx_bundler_entry_point-54d12af3-292c-4f90-b513-d95c0bcdc2da.mdx`\":\"\"))}return x(I);})();\n;return Component;"},"_id":"blog/how-to-merge-a-repository-into-nx.mdx","_raw":{"sourceFilePath":"blog/how-to-merge-a-repository-into-nx.mdx","sourceFileName":"how-to-merge-a-repository-into-nx.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/how-to-merge-a-repository-into-nx"},"type":"Blog","readingTime":{"text":"3 min read","minutes":2.95,"time":177000,"words":590},"slug":"how-to-merge-a-repository-into-nx","toc":[{"value":"Overview","url":"#overview","depth":2},{"value":"What is Nx?","url":"#what-is-nx","depth":2},{"value":"Prerequisites","url":"#prerequisites","depth":2},{"value":"Creating an Nx Workspace","url":"#creating-an-nx-workspace","depth":2},{"value":"Nx Workspace Folder structure","url":"#nx-workspace-folder-structure","depth":2},{"value":"Step 1: Clone source repository","url":"#step-1-clone-source-repository","depth":2},{"value":"Step 2: Move all files into the right sub directory.","url":"#step-2-move-all-files-into-the-right-sub-directory","depth":2},{"value":"Step 3: Add remote in your monorepo to packageC","url":"#step-3-add-remote-in-your-monorepo-to-packagec","depth":2},{"value":"Step 4: Merge packageC into monorepo","url":"#step-4-merge-packagec-into-monorepo","depth":2},{"value":"Step 5: Clean up","url":"#step-5-clean-up","depth":2},{"value":"Other tips","url":"#other-tips","depth":2},{"value":"Environment variables","url":"#environment-variables","depth":4},{"value":"Fixing absolute imports from your Create React App","url":"#fixing-absolute-imports-from-your-create-react-app","depth":4},{"value":"Fixing Error: global is not defined","url":"#fixing-error-global-is-not-defined","depth":4}]},"author":"Dale Larroder","prev":{"title":"JavaScript Promise and Async/Await","date":"2022-04-20T00:00:00.000Z","tags":["JavaScript","ReactJs","Snippets","Promises","Async/Await"],"draft":false,"summary":"A short visual guide on what a Promise is in JavaScript, and how to avoid call back hell.","author":"Dale Larroder","type":"Blog","readingTime":{"text":"4 min read","minutes":3.075,"time":184500,"words":615},"slug":"javascript-promises-async-await","toc":[{"value":"Overview","url":"#overview","depth":2},{"value":"What is a Promise?","url":"#what-is-a-promise","depth":2},{"value":"Visualization of a Promise","url":"#visualization-of-a-promise","depth":2},{"value":"What is Async/Await?","url":"#what-is-asyncawait","depth":2},{"value":"Visualization of callback hell","url":"#visualization-of-callback-hell","depth":2},{"value":"Async/Await allows us to write code like this:","url":"#asyncawait-allows-us-to-write-code-like-this","depth":2},{"value":"A Clean Approach","url":"#a-clean-approach","depth":2},{"value":"Conclusion","url":"#conclusion","depth":2}]},"next":{"title":"Why does React need keys?","date":"2022-07-31T00:00:00.000Z","tags":["ReactJs","Snippets"],"draft":false,"summary":"This article will show you what is the purpose if the “key” prop in React and some best practices around it.","author":"Dale Larroder","type":"Blog","readingTime":{"text":"2 min read","minutes":1.845,"time":110700,"words":369},"slug":"why-does-react-need-keys","toc":[{"value":"Overview","url":"#overview","depth":2},{"value":"Why does React need keys?","url":"#why-does-react-need-keys","depth":1},{"value":"Using the index as a key is dangerous","url":"#using-the-index-as-a-key-is-dangerous","depth":1},{"value":"Please do NOT do this:","url":"#please-do-not-do-this","depth":4},{"value":"Rules of keys","url":"#rules-of-keys","depth":1},{"value":"Where to get your key","url":"#where-to-get-your-key","depth":1},{"value":"Conclusion","url":"#conclusion","depth":1}]}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["how-to-merge-a-repository-into-nx"]},"buildId":"thtyuFiDl1j7_OflreNhe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>